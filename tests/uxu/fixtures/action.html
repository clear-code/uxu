<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">
<html lang="ja">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>test</title>
</head>
<body style="margin:0;padding:0;">
<script type="text/javascript">
	var events = [];

	function onMouseEvent(aEvent, aNode)
	{
		events.push({
			target   : aNode.id,
			type     : aEvent.type,
			button   : aEvent.button,
			detail   : aEvent.detail,
			screenX  : aEvent.screenX,
			screenY  : aEvent.screenY,
			clientX  : aEvent.clientX,
			clientY  : aEvent.clientY,
			altKey   : aEvent.altKey,
			ctrlKey  : aEvent.ctrlKey,
			metaKey  : aEvent.metaKey,
			shiftKey : aEvent.shiftKey
		});
//		events = events.slice(-30);
		document.getElementById('log').textContent = events.toSource();
	}

	function onKeyEvent(aEvent, aNode)
	{
		events.push({
			target   : aNode.id,
			type     : aEvent.type,
			keyCode  : aEvent.keyCode,
			charCode : aEvent.charCode,
			altKey   : aEvent.altKey,
			ctrlKey  : aEvent.ctrlKey,
			metaKey  : aEvent.metaKey,
			shiftKey : aEvent.shiftKey
		});
//		events = events.slice(-30);
		document.getElementById('log').textContent = events.toSource();
	}

	function onInputEvent(aEvent, aNode)
	{
		events.push({
			target   : aNode.id,
			type     : aEvent.type
		});
//		events = events.slice(-30);
		document.getElementById('log').textContent = events.toSource();
	}
</script>
<div id="clickable-box"
	ondblclick="onMouseEvent(event, this)"
	onclick="onMouseEvent(event, this)"
	onmousedown="onMouseEvent(event, this)"
	onmouseup="onMouseEvent(event, this)"
	style="
		width: 100px !important;
		height:100px !important;
		background: black !important;
	"></div>

<button id="clickable-button"
	ondblclick="onMouseEvent(event, this)"
	onclick="onMouseEvent(event, this)"
	onmousedown="onMouseEvent(event, this)"
	onmouseup="onMouseEvent(event, this)"
	onkeydown="onKeyEvent(event,this);"
	onkeyup="onKeyEvent(event,this);"
	onkeypress="onKeyEvent(event,this);">button</button>

<input type="text" id="input" value=""
	ondblclick="onMouseEvent(event, this)"
	onclick="onMouseEvent(event, this)"
	onmousedown="onMouseEvent(event, this)"
	onmouseup="onMouseEvent(event, this)"
	onkeydown="onKeyEvent(event,this);"
	onkeyup="onKeyEvent(event,this);"
	onkeypress="onKeyEvent(event,this);"
	oninput="onInputEvent(event,this);"/>

<p id="log" style="overflow:auto;height:100px;"></p>

</body>
</html>
